@import play.api.i18n.Messages
@import play.api.mvc.RequestHeader
@import org.webjars.play.WebJarsUtil
@import model.Project
@import models.User
@import scalajs._

@(projects: Seq[Project], user: User)(implicit request: RequestHeader, messages: Messages, webJarsUtil: WebJarsUtil)

<head>
  @html.scripts(projectName = "client",
    name => s"/assets/$name",
    name => getClass.getResource(s"/public/$name") != null)

  @* SEO meta tags *@
  <meta name="keywords" content="@messages("prj.list.title"), @projects.map(prj => messages("prj.title") + " " + prj.name + ", " + prj.number).mkString(", ")">
  <meta name="description" content='@messages("prj.list.title"), @projects.map(prj => messages("prj.title") + " " + prj.name + ", " + prj.number).mkString(", ")'>
  <script>
    rph = rphApp();
  </script>
</head>

@main(messages("prj.list.title"), Some(user)) {
  @projects.map { prj =>
    <div class="card" id="card_@java.util.UUID.randomUUID.toString" draggable="true" ondragstart="rph.drag(event)">
      <div class="container">
        <h3>@prj.name</h3>
        <p>@messages("prj.number"):  @prj.number</p>
        <p>@messages("prj.description"): @prj.description</p>
        <a href="/project/@prj.number">@messages("prj.goto")</a>
      </div>
    </div>
  }
}
