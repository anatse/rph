@import play.api.i18n.Messages
@import play.api.mvc.RequestHeader
@import org.webjars.play.WebJarsUtil
@import com.mohiva.play.silhouette.impl.providers.SocialProviderRegistry
@import forms.SignInForm.Data
@import scalajs._

@(
  signInForm: Form[Data],
  socialProviders: SocialProviderRegistry,
  user: Option[models.User] = None,
  cart: Option[ShopCart]
)(implicit request: RequestHeader, messages: Messages, webJarsUtil: WebJarsUtil)

@main(messages("cart.page.title"), signInForm, socialProviders, user, cart) {
  <script>
      function updateItem (event, drugId) {rphApp.updateCartItem ('Csrf-Token', '@helper.CSRF.getToken.value', event, drugId);}
  </script>

  <div class="container">
    <ul class="nav nav-tabs">
      <li class="active"><a data-toggle="tab" href="#home"> </a></li>
      <li><a data-toggle="tab" href="#menu1">Menu 1</a></li>
      <li><a data-toggle="tab" href="#menu2">Menu 2</a></li>
      <li><a data-toggle="tab" href="#menu3">Menu 3</a></li>
    </ul>

    @helper.form(action = controllers.routes.CompanyController.cartSend(), 'role -> "form") {
      @helper.CSRF.formField
      <label for="email">@messages("email") *</label>
      <div class="input-group">
        <input type="email" class="form-control" name="email"  placeholder="user@@example.com" id="email" required value="@{user match {
          case Some(usr) => usr.email
          case _ =>
        }}">
        <span id="email-btn" class="input-group-btn">
          <button type="submit" class="btn btn-default">@{messages("cart.request")}</button>
        </span>
      </div>
    }
  </div>

  @html.scripts(projectName = "clientAdmin",
    name => s"/assets/$name",
    name => getClass.getResource(s"/public/$name") != null)
}